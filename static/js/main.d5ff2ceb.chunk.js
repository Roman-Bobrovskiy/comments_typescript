(this.webpackJsonpcomments_typescript=this.webpackJsonpcomments_typescript||[]).push([[0],{11:function(t,e,n){t.exports={Modal:"modal_Modal__XPxL3",Text:"modal_Text__1Fp_e"}},12:function(t,e,n){},18:function(t,e,n){t.exports={spinner:"Spinner_spinner__1Neu5"}},3:function(t){t.exports=JSON.parse('{"send":"https://jordan.ashton.fashion/api/goods/30/comments","receive":"https://jordan.ashton.fashion/api/goods/30/comments","page":"?page=","firstPage":"1","noData":"https://image.freepik.com/free-vector/man-sitting-on-big-question-mark-symbol_24381-1192.jpg"}')},4:function(t,e,n){t.exports={wrapForm:"SendingForm_wrapForm__hNuds",nameLabel:"SendingForm_nameLabel__3TIpG",inputName:"SendingForm_inputName__pqbl4",textLabel:"SendingForm_textLabel__3Rh-K",inputText:"SendingForm_inputText__2o1Rb",sentBTN:"SendingForm_sentBTN__1DhKp",sentBTNSVG:"SendingForm_sentBTNSVG__2uSKl"}},48:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n.n(a),r=n(13),i=n.n(r),c=(n(12),n(8)),s=n(14),u=n(15),l=n(20),m=n(19),g=n(10),j=n.n(g),p=n(16),d=n(3);function h(){return(h=Object(p.a)(j.a.mark((function t(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var b={getServerData:function(){return fetch(d.receive)},getComments:function(){return fetch(d.receive+d.page+d.firstPage)},sendData:function(t,e){var n=JSON.stringify({name:t,text:e});fetch(d.send,{mode:"cors",method:"post",headers:{"Content-Type":"application/json"},body:n}).then((function(t){if(200===t.status)return t.json();console.log("Status: "+t.status)})).then((function(t){return t.data})).catch((function(t){console.log(t)})).finally(console.log("Received: ".concat(n)))},getPage:function(t){return h.apply(this,arguments)}},x=b,_=n(5),f=n.n(_),O=function(t){var e=new Date(t),n=e.getFullYear(),a=e.getMonth(),o=e.getDate(),r=e.getHours(),i=e.getMinutes();return"".concat(n,".").concat(a,".").concat(o," at ").concat(r,":").concat(i<10?"0"+i:i)},N=n(0),v=function(t){var e=t.onComments;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("ul",{className:f.a.commentContainer,children:e.map((function(t){return Object(N.jsxs)("li",{className:f.a.commentBox,children:[Object(N.jsxs)("div",{className:f.a.wrapNameTime,children:[Object(N.jsx)("p",{className:f.a.name,children:t.name}),Object(N.jsx)("p",{className:f.a.time,children:O(t.created_at)})]}),Object(N.jsx)("p",{className:f.a.text,children:t.text})]},t.id)}))})})},T=n(4),C=n.n(T),D=function(t){var e=t.onSubmit,n=t.onChangeName,a=t.onChangeText,o=t.onNameData,r=t.onTextData;return Object(N.jsxs)("form",{className:C.a.wrapForm,onSubmit:e,children:[Object(N.jsx)("label",{className:C.a.nameLabel,children:Object(N.jsx)("input",{className:C.a.inputName,value:o,name:"name",type:"text",onChange:function(t){return n(t)},required:!0,placeholder:"Please enter yor name"})}),Object(N.jsxs)("label",{className:C.a.textLabel,children:[Object(N.jsx)("input",{className:C.a.inputText,value:r,name:"comment",type:"text",onChange:function(t){return a(t)},required:!0,placeholder:"Enter comment"}),Object(N.jsx)("button",{className:C.a.sentBTN,type:"submit",children:Object(N.jsxs)("svg",{className:C.a.sentBTNSVG,version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 25.951 25.951",children:[Object(N.jsxs)("g",{children:[Object(N.jsx)("path",{d:"M3,0.225h18c1.656,0,3,1.344,3,3v10c0,0.313-0.062,0.609-0.15,0.893l-2.056-1.832 c-0.451-0.457-1.358-0.662-2.078-0.369l-3.692-3.779L23,2.7L12,8.632L1,2.7l6.977,5.438l-5.77,5.906l7.037-5.025L12,10.813 l2.758-1.795l4.467,3.191c-0.451,0.366-0.725,0.922-0.725,1.531v1.043c-1.135,0.168-2.473,0.565-3.703,1.441H3 c-1.656,0-3-1.344-3-3V3.225C0,1.569,1.344,0.225,3,0.225z"}),Object(N.jsx)("g",{children:Object(N.jsx)("path",{d:"M20,13.741v2.434c-3.227,0-7.5,1.564-7.5,9.551c1.412-5.096,3.314-5.488,7.5-5.488v2.473 c0,0.191,0.105,0.363,0.281,0.437c0.059,0.024,0.121,0.036,0.182,0.036c0.123,0,0.244-0.048,0.334-0.139l5.016-4.504 c0.184-0.184,0.184-0.484,0-0.668l-5.016-4.465c-0.135-0.135-0.34-0.176-0.516-0.103S20,13.549,20,13.741z"})})]}),Object(N.jsx)("g",{}),Object(N.jsx)("g",{}),Object(N.jsx)("g",{}),Object(N.jsx)("g",{}),Object(N.jsx)("g",{}),Object(N.jsx)("g",{}),Object(N.jsx)("g",{}),Object(N.jsx)("g",{}),Object(N.jsx)("g",{}),Object(N.jsx)("g",{}),Object(N.jsx)("g",{}),Object(N.jsx)("g",{}),Object(N.jsx)("g",{}),Object(N.jsx)("g",{}),Object(N.jsx)("g",{})]})})]})]})},S=n(50),P=n(6),L=n.n(P),M=function(t){var e=t.onPaginationData,n=t.getPage;return Object(N.jsx)(N.Fragment,{children:e&&Object(N.jsx)("div",{className:L.a.wrapPagination,children:e.map((function(t){return null!==t.url?!0===t.active?Object(N.jsx)("button",{className:L.a.paginationBTNActive,type:"button",onClick:function(){return n(t.url)},children:t.label},Object(S.a)()):Object(N.jsx)("button",{className:L.a.paginationBTN,type:"button",onClick:function(){return n(t.url)},children:"&laquo; Previous"===t.label||"Next &raquo;"===t.label?t.label.replace("&laquo;","").replace("&raquo;",""):t.label},Object(S.a)()):Object(N.jsx)("span",{className:L.a.paginationSpan,children:"&laquo; Previous"===t.label||"Next &raquo;"===t.label?"":t.label},Object(S.a)())}))})})},y=n(7),w=n.n(y),B=function(t){var e=t.onClickLoadMore,n=t.onCurrentPage,a=t.onLastPage,o=t.onPaginationData;return Object(N.jsx)("div",{className:w.a.wrapLoadMoreBTN,children:n===a?Object(N.jsx)("button",{className:w.a.hidenLoadMoreBTN,type:"button",children:"Load more"}):o&&o.map((function(t){return"Next &raquo;"===t.label&&Object(N.jsx)("button",{className:w.a.loadMoreBTN,onClick:function(){return e(t.url)},type:"button",children:"Load more"},"{id}")}))})},k=function(t){var e=t.onComments,n=t.onSubmit,a=t.onChangeName,o=t.onChangeText,r=t.onPaginationData,i=t.getPage,c=t.onClickLoadMore,s=t.onCurrentPage,u=t.onLastPage,l=t.onNameData,m=t.onTextData;return Object(N.jsxs)("main",{children:[Object(N.jsx)(v,{onComments:e}),Object(N.jsx)(D,{onSubmit:n,onChangeName:a,onChangeText:o,onNameData:l,onTextData:m}),Object(N.jsx)(B,{onClickLoadMore:c,onCurrentPage:s,onLastPage:u,onPaginationData:r}),Object(N.jsx)(M,{onPaginationData:r,getPage:i})]})};function F(){return Object(N.jsxs)("div",{children:[Object(N.jsx)("h1",{children:"404"}),Object(N.jsx)("img",{src:d.noData,alt:"404 page",width:"40%"})]})}var q=n(17),H=n.n(q),G=(n(47),n(18)),E=n.n(G),J=function(){return Object(N.jsx)("div",{className:E.a.spinner,children:Object(N.jsx)(H.a,{type:"ThreeDots",color:"grey",height:50,width:50,timeout:5e3})})},R=n(11),V=n.n(R),z=function(t){var e=t.onNameData,n=t.onTextData;return Object(N.jsx)(N.Fragment,{children:0!==n.length&&Object(N.jsx)("div",{className:V.a.Modal,children:Object(N.jsxs)("p",{className:V.a.Text,children:["Sent: Name: ",e," comment: ",n]})})})},A=function(){var t=document.body.clientHeight;t!==document.documentElement.scrollHeight&&setTimeout((function(){return window.scrollTo({top:t,behavior:"smooth"})}),350)},I=function(t){Object(l.a)(n,t);var e=Object(m.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).state={comments:[],textData:"",nameData:"",first_page_url:"",last_page_url:"",last_page:"",current_page:"",paginationData:"",error:!1,loading:!1,showModal:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.state,n=e.comments;e.first_page_url||x.getServerData().then((function(t){return t.json()})).then((function(e){return t.setState({first_page_url:e.first_page_url,last_page_url:e.last_page_url,current_page:e.current_page,last_page:e.last_page,paginationData:e.links})})),0===n.length&&(this.setState({loading:!0}),x.getComments().then((function(t){return t.json()})).then((function(e){return t.setState({comments:e.data})})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({loading:!1})})))}},{key:"componentDidUpdate",value:function(){var t=this,e=this.state.comments;this.handleChangeLoadMore=function(n){t.setState({loading:!0}),x.getPage(n).then((function(t){return t.json()})).then((function(n){t.setState((function(){return{comments:[].concat(Object(c.a)(e),Object(c.a)(n.data)),paginationData:n.links,current_page:n.current_page}}))})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({loading:!1})})),A()},this.getPage=function(e){t.setState({loading:!0}),x.getPage(e).then((function(t){return t.json()})).then((function(e){t.setState((function(){return{comments:Object(c.a)(e.data),paginationData:e.links,current_page:e.current_page}}))})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({loading:!1})}))},this.handleChangeName=function(e){t.setState({nameData:e.target.value})},this.handleChangeText=function(e){t.setState({textData:e.target.value})},this.handleSubmit=function(e){var n=t.state,a=n.nameData,o=n.textData,r=n.last_page_url;t.setState({showModal:!0}),e.preventDefault(),x.sendData(a,o),setTimeout((function(){return t.getPage(r)}),700),setTimeout((function(){return t.setState({showModal:!1,textData:"",nameData:""})}),1500)}}},{key:"render",value:function(){var t=this.state,e=t.comments,n=t.current_page,a=t.paginationData,o=t.last_page,r=t.error,i=t.loading,c=t.showModal,s=t.nameData,u=t.textData;return Object(N.jsxs)(N.Fragment,{children:[r&&Object(N.jsx)(F,{}),i&&Object(N.jsx)(J,{}),c&&Object(N.jsx)(z,{onNameData:s,onTextData:u}),Object(N.jsx)(k,{onComments:e,onSubmit:this.handleSubmit,onChangeName:this.handleChangeName,onChangeText:this.handleChangeText,onPaginationData:a,getPage:this.getPage,onClickLoadMore:this.handleChangeLoadMore,onCurrentPage:n,onLastPage:o,onNameData:s,onTextData:u})]})}}]),n}(o.a.Component);i.a.render(Object(N.jsx)(I,{}),document.getElementById("root"))},5:function(t,e,n){t.exports={commentContainer:"CommentList_commentContainer__bschH",commentBox:"CommentList_commentBox__3fd-b",wrapNameTime:"CommentList_wrapNameTime__3lHpa",name:"CommentList_name__8pbye",time:"CommentList_time__9p0Wy",text:"CommentList_text__3IUsw"}},6:function(t,e,n){t.exports={wrapPagination:"Pagination_wrapPagination__2ERY3",paginationSpan:"Pagination_paginationSpan__3YQ1L",paginationBTN:"Pagination_paginationBTN__2qg_z",paginationBTNActive:"Pagination_paginationBTNActive__2wqu3",sentBTN:"Pagination_sentBTN__shi2W"}},7:function(t,e,n){t.exports={wrapLoadMoreBTN:"LoadMorePagination_wrapLoadMoreBTN__1sBUL",loadMoreBTN:"LoadMorePagination_loadMoreBTN__2w4M-",hidenLoadMoreBTN:"LoadMorePagination_hidenLoadMoreBTN__H7-G1"}}},[[48,1,2]]]);
//# sourceMappingURL=main.d5ff2ceb.chunk.js.map